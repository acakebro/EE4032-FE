{"ast":null,"code":"import { defaults, noop, time } from '@motionone/utils';\nimport { stopAnimation } from './stop-animation.es.js';\nvar createAnimation = function createAnimation(factory) {\n  return factory();\n};\nvar withControls = function withControls(animationFactory, options) {\n  var duration = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaults.duration;\n  return new Proxy({\n    animations: animationFactory.map(createAnimation).filter(Boolean),\n    duration: duration,\n    options: options\n  }, controls);\n};\n/**\n * TODO:\n * Currently this returns the first animation, ideally it would return\n * the first active animation.\n */\nvar getActiveAnimation = function getActiveAnimation(state) {\n  return state.animations[0];\n};\nvar controls = {\n  get: function get(target, key) {\n    var activeAnimation = getActiveAnimation(target);\n    switch (key) {\n      case \"duration\":\n        return target.duration;\n      case \"currentTime\":\n        return time.s((activeAnimation === null || activeAnimation === void 0 ? void 0 : activeAnimation[key]) || 0);\n      case \"playbackRate\":\n      case \"playState\":\n        return activeAnimation === null || activeAnimation === void 0 ? void 0 : activeAnimation[key];\n      case \"finished\":\n        if (!target.finished) {\n          target.finished = Promise.all(target.animations.map(selectFinished)).catch(noop);\n        }\n        return target.finished;\n      case \"stop\":\n        return function () {\n          target.animations.forEach(function (animation) {\n            return stopAnimation(animation);\n          });\n        };\n      case \"forEachNative\":\n        /**\n         * This is for internal use only, fire a callback for each\n         * underlying animation.\n         */\n        return function (callback) {\n          target.animations.forEach(function (animation) {\n            return callback(animation, target);\n          });\n        };\n      default:\n        return typeof (activeAnimation === null || activeAnimation === void 0 ? void 0 : activeAnimation[key]) === \"undefined\" ? undefined : function () {\n          return target.animations.forEach(function (animation) {\n            return animation[key]();\n          });\n        };\n    }\n  },\n  set: function set(target, key, value) {\n    switch (key) {\n      case \"currentTime\":\n        value = time.ms(value);\n      case \"currentTime\":\n      case \"playbackRate\":\n        for (var i = 0; i < target.animations.length; i++) {\n          target.animations[i][key] = value;\n        }\n        return true;\n    }\n    return false;\n  }\n};\nvar selectFinished = function selectFinished(animation) {\n  return animation.finished;\n};\nexport { controls, withControls };","map":{"version":3,"names":["defaults","noop","time","stopAnimation","createAnimation","factory","withControls","animationFactory","options","duration","Proxy","animations","map","filter","Boolean","controls","getActiveAnimation","state","get","target","key","activeAnimation","s","finished","Promise","all","selectFinished","catch","forEach","animation","callback","undefined","set","value","ms","i","length"],"sources":["/Users/hamsterpapa/Documents/GitHub/Crowdfunding-Website/node_modules/@motionone/dom/dist/animate/utils/controls.es.js"],"sourcesContent":["import { defaults, noop, time } from '@motionone/utils';\nimport { stopAnimation } from './stop-animation.es.js';\n\nconst createAnimation = (factory) => factory();\nconst withControls = (animationFactory, options, duration = defaults.duration) => {\n    return new Proxy({\n        animations: animationFactory.map(createAnimation).filter(Boolean),\n        duration,\n        options,\n    }, controls);\n};\n/**\n * TODO:\n * Currently this returns the first animation, ideally it would return\n * the first active animation.\n */\nconst getActiveAnimation = (state) => state.animations[0];\nconst controls = {\n    get: (target, key) => {\n        const activeAnimation = getActiveAnimation(target);\n        switch (key) {\n            case \"duration\":\n                return target.duration;\n            case \"currentTime\":\n                return time.s((activeAnimation === null || activeAnimation === void 0 ? void 0 : activeAnimation[key]) || 0);\n            case \"playbackRate\":\n            case \"playState\":\n                return activeAnimation === null || activeAnimation === void 0 ? void 0 : activeAnimation[key];\n            case \"finished\":\n                if (!target.finished) {\n                    target.finished = Promise.all(target.animations.map(selectFinished)).catch(noop);\n                }\n                return target.finished;\n            case \"stop\":\n                return () => {\n                    target.animations.forEach((animation) => stopAnimation(animation));\n                };\n            case \"forEachNative\":\n                /**\n                 * This is for internal use only, fire a callback for each\n                 * underlying animation.\n                 */\n                return (callback) => {\n                    target.animations.forEach((animation) => callback(animation, target));\n                };\n            default:\n                return typeof (activeAnimation === null || activeAnimation === void 0 ? void 0 : activeAnimation[key]) === \"undefined\"\n                    ? undefined\n                    : () => target.animations.forEach((animation) => animation[key]());\n        }\n    },\n    set: (target, key, value) => {\n        switch (key) {\n            case \"currentTime\":\n                value = time.ms(value);\n            case \"currentTime\":\n            case \"playbackRate\":\n                for (let i = 0; i < target.animations.length; i++) {\n                    target.animations[i][key] = value;\n                }\n                return true;\n        }\n        return false;\n    },\n};\nconst selectFinished = (animation) => animation.finished;\n\nexport { controls, withControls };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}