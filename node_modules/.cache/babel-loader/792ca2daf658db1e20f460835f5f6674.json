{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/hamsterpapa/Documents/GitHub/Crowdfunding-Website/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3;import{ConstructorFragment}from'ethers/lib/utils';import gsap from'gsap';import ScrollTrigger from'gsap/ScrollTrigger';import React,{useLayoutEffect,useRef}from'react';import styled,{keyframes}from'styled-components';import Vector from'./vector';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var VectorContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\nposition: absolute;\\ntop: 0.5rem;\\nleft: 50%;\\ntransform: translateX(-50%);\\nwidth: 100%;\\nheight: 100%;\\noverflow: hidden;\\n\\nsvg {\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n\"])));var Bounce=keyframes(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\nfrom {transform: translateX(-50%) scale(0.5); }\\nto {transform: translateX(-50%) scale(1); }\\n\"])));var Ball=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\nposition: absolute;\\ntop: 0;\\nleft: 50%;\\ntransform: translateX(-50%);\\nwidth: 1.5rem;\\nheight: 1.5rem;\\nborder-radius: 50%;\\nbackground-color: #fff;\\nanimation: \",\" 0.5s linear infinite alternate;\\n\"])),Bounce);function DrawSvg(){var ref=useRef(null);var ballRef=useRef(null);gsap.registerPlugin(ScrollTrigger);useLayoutEffect(function(){var element=ref.current;var svg=document.getElementsByClassName(\"svg-path\")[0];var length=svg.getTotalLength()+150;svg.style.strokeDasharray=length;svg.style.strokeDashoffset=length;var t1=gsap.timeline({scrollTrigger:{trigger:element,start:\"top center\",end:\"bottom bottom\",onUpdate:function onUpdate(self){var draw=length*self.progress;svg.style.strokeDashoffset=length-draw;},onToggle:function onToggle(self){if(self.isActive){ballRef.current.style.display='none;';}else{ballRef.current.style.display='inline-block;';}}}});return function(){if(t1)t1.kill();};},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Ball,{ref:ballRef}),/*#__PURE__*/_jsx(VectorContainer,{ref:ref,children:/*#__PURE__*/_jsx(Vector,{})})]});}export default DrawSvg;","map":{"version":3,"names":["ConstructorFragment","gsap","ScrollTrigger","React","useLayoutEffect","useRef","styled","keyframes","Vector","VectorContainer","div","Bounce","Ball","DrawSvg","ref","ballRef","registerPlugin","element","current","svg","document","getElementsByClassName","length","getTotalLength","style","strokeDasharray","strokeDashoffset","t1","timeline","scrollTrigger","trigger","start","end","onUpdate","self","draw","progress","onToggle","isActive","display","kill"],"sources":["/Users/hamsterpapa/Documents/GitHub/Crowdfunding-Website/src/components/sections/DrawSvg.js"],"sourcesContent":["import { ConstructorFragment } from 'ethers/lib/utils';\nimport gsap from 'gsap';\nimport ScrollTrigger from 'gsap/ScrollTrigger';\nimport React, { useLayoutEffect, useRef } from 'react'\nimport styled, {keyframes} from 'styled-components'\nimport Vector from './vector'\n\nconst VectorContainer = styled.div`\nposition: absolute;\ntop: 0.5rem;\nleft: 50%;\ntransform: translateX(-50%);\nwidth: 100%;\nheight: 100%;\noverflow: hidden;\n\nsvg {\n  width: 100%;\n  height: 100%;\n}\n\n`\n\nconst Bounce = keyframes`\nfrom {transform: translateX(-50%) scale(0.5); }\nto {transform: translateX(-50%) scale(1); }\n`\n\nconst Ball = styled.div`\nposition: absolute;\ntop: 0;\nleft: 50%;\ntransform: translateX(-50%);\nwidth: 1.5rem;\nheight: 1.5rem;\nborder-radius: 50%;\nbackground-color: #fff;\nanimation: ${Bounce} 0.5s linear infinite alternate;\n`\n\nfunction DrawSvg() {\n  const ref = useRef(null);\n  const ballRef = useRef(null);\n\n  gsap.registerPlugin(ScrollTrigger);\n\n\n  useLayoutEffect(() => {\n    let element  = ref.current;\n\n    let svg = document.getElementsByClassName(\"svg-path\")[0];\n\n    const length = svg.getTotalLength() + 150;\n    \n\n    svg.style.strokeDasharray = length;\n\n    svg.style.strokeDashoffset = length;\n\n\n    let t1 = gsap.timeline({\n      scrollTrigger: {\n        trigger: element,\n        start: \"top center\",\n        end: \"bottom bottom\",\n        onUpdate: (self) => {\n          const draw = length * self.progress;\n\n          svg.style.strokeDashoffset = length - draw;\n        },\n        onToggle: self => {\n          if(self.isActive) {\n            ballRef.current.style.display = 'none;';\n          } else {\n            ballRef.current.style.display = 'inline-block;';\n          }\n        }\n      }\n\n    })\n  \n    return () => {\n      if(t1) t1.kill();\n      \n    };\n  }, [])\n\n\n\n  return (\n    <>\n    <Ball ref={ballRef}/>\n    <VectorContainer ref={ref}>\n      <Vector/>\n    </VectorContainer>\n    </>\n  )\n}\n\nexport default DrawSvg"],"mappings":"oNAAA,OAASA,mBAAmB,KAAQ,kBAAkB,CACtD,MAAOC,KAAI,KAAM,MAAM,CACvB,MAAOC,cAAa,KAAM,oBAAoB,CAC9C,MAAOC,MAAK,EAAIC,eAAe,CAAEC,MAAM,KAAQ,OAAO,CACtD,MAAOC,OAAM,EAAGC,SAAS,KAAO,mBAAmB,CACnD,MAAOC,OAAM,KAAM,UAAU,8IAE7B,GAAMC,gBAAe,CAAGH,MAAM,CAACI,GAAG,+OAcjC,CAED,GAAMC,OAAM,CAAGJ,SAAS,mKAGvB,CAED,GAAMK,KAAI,CAAGN,MAAM,CAACI,GAAG,4QASVC,MAAM,CAClB,CAED,QAASE,QAAO,EAAG,CACjB,GAAMC,IAAG,CAAGT,MAAM,CAAC,IAAI,CAAC,CACxB,GAAMU,QAAO,CAAGV,MAAM,CAAC,IAAI,CAAC,CAE5BJ,IAAI,CAACe,cAAc,CAACd,aAAa,CAAC,CAGlCE,eAAe,CAAC,UAAM,CACpB,GAAIa,QAAO,CAAIH,GAAG,CAACI,OAAO,CAE1B,GAAIC,IAAG,CAAGC,QAAQ,CAACC,sBAAsB,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAExD,GAAMC,OAAM,CAAGH,GAAG,CAACI,cAAc,EAAE,CAAG,GAAG,CAGzCJ,GAAG,CAACK,KAAK,CAACC,eAAe,CAAGH,MAAM,CAElCH,GAAG,CAACK,KAAK,CAACE,gBAAgB,CAAGJ,MAAM,CAGnC,GAAIK,GAAE,CAAG1B,IAAI,CAAC2B,QAAQ,CAAC,CACrBC,aAAa,CAAE,CACbC,OAAO,CAAEb,OAAO,CAChBc,KAAK,CAAE,YAAY,CACnBC,GAAG,CAAE,eAAe,CACpBC,QAAQ,CAAE,kBAACC,IAAI,CAAK,CAClB,GAAMC,KAAI,CAAGb,MAAM,CAAGY,IAAI,CAACE,QAAQ,CAEnCjB,GAAG,CAACK,KAAK,CAACE,gBAAgB,CAAGJ,MAAM,CAAGa,IAAI,CAC5C,CAAC,CACDE,QAAQ,CAAE,kBAAAH,IAAI,CAAI,CAChB,GAAGA,IAAI,CAACI,QAAQ,CAAE,CAChBvB,OAAO,CAACG,OAAO,CAACM,KAAK,CAACe,OAAO,CAAG,OAAO,CACzC,CAAC,IAAM,CACLxB,OAAO,CAACG,OAAO,CAACM,KAAK,CAACe,OAAO,CAAG,eAAe,CACjD,CACF,CACF,CAEF,CAAC,CAAC,CAEF,MAAO,WAAM,CACX,GAAGZ,EAAE,CAAEA,EAAE,CAACa,IAAI,EAAE,CAElB,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAIN,mBACE,wCACA,KAAC,IAAI,EAAC,GAAG,CAAEzB,OAAQ,EAAE,cACrB,KAAC,eAAe,EAAC,GAAG,CAAED,GAAI,uBACxB,KAAC,MAAM,IAAE,EACO,GACf,CAEP,CAEA,cAAeD,QAAO"},"metadata":{},"sourceType":"module"}